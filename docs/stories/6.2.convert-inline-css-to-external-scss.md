# Story 6.2: convert-inline-css-to-external-scss

## Status
InProgress

## Story
**As a** developer,
**I want** all frontend components to use external SCSS files instead of inline CSS,
**so that** styling is properly separated from component logic and consistently applies ELCA corporate identity guidelines.

## Acceptance Criteria
1. All 16 identified components must be converted from `styles: [...]` to external `.scss` files
2. External SCSS files must use established ELCA variables, mixins, and design patterns
3. Components must reference external files via `styleUrls` property
4. ELCA coral-red color system (#e74c3c) must be consistently applied
5. Must follow mobile-first approach with ELCA breakpoints
6. No inline CSS (`styles: [...]`) should remain in any component
7. Build must succeed without styling errors
8. Visual consistency with ELCA corporate identity must be maintained

## Tasks / Subtasks
- [x] Create external SCSS files for auth components (AC: 1, 2)
  - [x] email-verification.component.scss
  - [x] user-registration.component.scss
  - [x] login.component.scss
  - [x] verify-email.component.scss (not found - does not exist)
- [x] Create external SCSS files for admin components (AC: 1, 2)
  - [x] projects-list.component.scss
  - [x] project-detail.component.scss
  - [ ] user-management.component.scss (component not found)
  - [ ] subprojects-list.component.scss (component not found)
- [ ] Create external SCSS files for manager components (AC: 1, 2)
  - [ ] dashboard.component.scss
  - [ ] manager-approvals.component.scss
  - [ ] manager-request-detail.component.scss
- [ ] Create external SCSS files for employee components (AC: 1, 2)
  - [ ] dashboard.component.scss
  - [ ] employee-address.component.scss
  - [ ] travel-request-create.component.scss
- [ ] Create external SCSS files for shared components (AC: 1, 2)
  - [ ] main-layout.component.scss
  - [ ] unauthorized.component.scss
- [ ] Update all component TypeScript files to reference external SCSS files (AC: 3)
- [ ] Apply ELCA color system and responsive design patterns (AC: 4, 5)
- [ ] Remove all inline CSS from components (AC: 6)
- [ ] Test build success and visual consistency (AC: 7, 8)

## Infrastructure Impact Assessment ⚠️ REQUIRED

### Frontend Changes
- [ ] **New Components/Pages** - None required
- [ ] **State Management** - No RxJS service updates needed
- [ ] **Routing** - No new routes or route guards required
- [ ] **API Integration** - No new HTTP service methods needed

### Backend Changes
- [ ] **New API Endpoints** - None required
- [ ] **Lambda Functions** - No new Lambda handlers required
- [ ] **Database Changes** - No schema modifications needed
- [ ] **Authentication** - No auth/authorization changes

### Infrastructure Changes (AWS CDK)
- [ ] **API Gateway** - No new routes/methods/cors
- [ ] **Lambda Configuration** - No function definition changes
- [ ] **Database** - No RDS changes or migrations
- [ ] **Environment Variables** - No new config needed
- [ ] **IAM Permissions** - No new service permissions
- [ ] **Other AWS Services** - No changes needed

### Development Environment
- [ ] **Docker Services** - No new services in docker-compose.yml
- [ ] **LocalStack** - No new mocked AWS services
- [ ] **Sample Data** - No database seed updates needed
- [ ] **Environment Setup** - No new setup steps required

## Dev Notes

### Technical Design Notes
This story continues the ELCA corporate identity implementation from Story 6.1. The established SCSS architecture includes:

**ELCA Base Architecture** (from Story 6.1):
- `apps/web/src/styles/base/_variables.scss` - ELCA color system, spacing, typography
- `apps/web/src/styles/base/_mixins.scss` - 50+ reusable SCSS mixins
- `apps/web/src/styles/main.scss` - Main entry point with component styles
- `apps/web/src/styles.scss` - Global imports and utility classes

**ELCA Design Tokens to Use**:
- Colors: `$elca-coral-red` (#e74c3c), `$elca-bg-primary`, `$elca-text-primary`
- Spacing: `$elca-spacing-xs` through `$elca-spacing-2xl` (8px base system)
- Typography: `$elca-font-size-*`, `$elca-font-weight-*`
- Shadows: `$elca-shadow-sm`, `$elca-shadow-lg`
- Border radius: `$elca-border-radius-base`, `$elca-border-radius-lg`

**Component SCSS Pattern**:
```scss
@import '../../../styles/base/variables';
@import '../../../styles/base/mixins';

.component-container {
  @include elca-card;
  padding: $elca-spacing-xl;
}

.primary-button {
  @include elca-button-primary;
  @include elca-button-size('base');
}
```

**16 Components to Convert**:
- Auth: email-verification, user-registration, login, verify-email
- Admin: projects-list, project-detail, user-management, subprojects-list
- Manager: dashboard, manager-approvals, manager-request-detail
- Employee: dashboard, employee-address, travel-request-create
- Shared: main-layout, unauthorized

### Testing
- **Test File Location**: No new test files required - existing component tests remain valid
- **Test Standards**: Visual regression testing to ensure no styling changes
- **Testing Frameworks**: Use existing Jest/Angular testing setup
- **Specific Requirements**:
  - Build must complete without SCSS compilation errors
  - Components must maintain existing functionality
  - Visual consistency verification across responsive breakpoints
- **Infrastructure Testing**: No CDK or LocalStack testing required

## Definition of Done Checklist

### Development Complete
- [ ] All acceptance criteria implemented
- [ ] Unit tests written and passing
- [ ] Integration tests cover new functionality
- [ ] Code follows project conventions
- [ ] TypeScript types properly defined in packages/shared

### Infrastructure Complete ⚠️ CRITICAL
- [ ] All infrastructure changes implemented in CDK
- [ ] CDK diff reviewed and approved (`npm run infrastructure:plan`)
- [ ] Environment variables configured (dev + prod)
- [ ] IAM permissions validated
- [ ] API Gateway routes deployed and tested
- [ ] Lambda functions deployed and tested
- [ ] Database migrations applied successfully
- [ ] Infrastructure validation passes (`npm run infrastructure:validate`)

### Review Ready
- [ ] PR created with infrastructure checklist completed
- [ ] Code review completed
- [ ] Infrastructure review completed
- [ ] Documentation updated
- [ ] CLAUDE.md updated if commands changed

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2024-12-17 | 1.0 | Initial story creation | Scrum Master Bob |
| 2024-12-17 | 1.1 | Story approved for development | Scrum Master Bob |

## Dev Agent Record

### Agent Model Used
Claude Sonnet 4 (claude-sonnet-4-20250514)

### Debug Log References
_To be populated by dev agent_

### Completion Notes List
_To be populated by dev agent_

### File List
_To be populated by dev agent_

## QA Results
_To be populated by QA agent_