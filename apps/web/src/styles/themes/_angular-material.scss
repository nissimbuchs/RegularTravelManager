// ELCA Angular Material Theme Customization
// Custom Angular Material theme using ELCA corporate colors

@use '@angular/material' as mat;
@import '../base/variables';

// Define ELCA color palettes based on Angular Material structure
$elca-primary-palette: (
  50: #fdf2f2,
  100: #fce4e4,
  200: #fbc8c8,
  300: #f8a5a5,
  400: #f47171,
  500: #e74c3c, // Main ELCA coral-red
  600: #d73c2c,
  700: #c0392b, // ELCA hover state
  800: #a93226, // ELCA active state
  900: #922b1f,
  A100: #ffe6e6,
  A200: #ffb3b3,
  A400: #ff8080,
  A700: #ff6666,
  contrast: (
    50: #000000,
    100: #000000,
    200: #000000,
    300: #000000,
    400: #ffffff,
    500: #ffffff, // White text on ELCA coral-red
    600: #ffffff,
    700: #ffffff,
    800: #ffffff,
    900: #ffffff,
    A100: #000000,
    A200: #000000,
    A400: #ffffff,
    A700: #ffffff,
  )
);

// Accent palette (using professional success green)
$elca-accent-palette: (
  50: #f0f8f0,
  100: #d8f0d8,
  200: #b8e5b8,
  300: #95d995,
  400: #6dc66d,
  500: #28a745, // Professional green for accents
  600: #228a3e,
  700: #1c6e36,
  800: #16542b,
  900: #0e3a1f,
  A100: #ccffcc,
  A200: #99ff99,
  A400: #66ff66,
  A700: #4dff4d,
  contrast: (
    50: #000000,
    100: #000000,
    200: #000000,
    300: #000000,
    400: #ffffff,
    500: #ffffff,
    600: #ffffff,
    700: #ffffff,
    800: #ffffff,
    900: #ffffff,
    A100: #000000,
    A200: #000000,
    A400: #000000,
    A700: #000000,
  )
);

// Warning palette (amber for pending states)
$elca-warn-palette: (
  50: #fffdf0,
  100: #fffae6,
  200: #fff4c2,
  300: #ffeb94,
  400: #ffdd4d,
  500: #ffc107, // Warning amber
  600: #ffab00,
  700: #ff8f00,
  800: #ff6f00,
  900: #e65100,
  A100: #ffe57f,
  A200: #ffd54f,
  A400: #ffca28,
  A700: #ffc400,
  contrast: (
    50: #000000,
    100: #000000,
    200: #000000,
    300: #000000,
    400: #000000,
    500: #000000,
    600: #000000,
    700: #000000,
    800: #ffffff,
    900: #ffffff,
    A100: #000000,
    A200: #000000,
    A400: #000000,
    A700: #000000,
  )
);

// Create theme using standard Angular Material approach
$elca-primary: mat.define-palette($elca-primary-palette);
$elca-accent: mat.define-palette($elca-accent-palette);
$elca-warn: mat.define-palette($elca-warn-palette);

// Create the theme object
$elca-theme: mat.define-light-theme((
  color: (
    primary: $elca-primary,
    accent: $elca-accent,
    warn: $elca-warn,
  ),
  typography: mat.define-typography-config(
    $font-family: $elca-font-family-primary,
  ),
  density: 0,
));

// Include the theme
@include mat.all-component-themes($elca-theme);

// Custom component overrides for ELCA styling
// Comprehensive Material Button Color Overrides
button.mat-mdc-raised-button,
button.mat-mdc-flat-button,
button.mat-mdc-outlined-button {
  // Primary color buttons (default Material blue -> ELCA coral-red)
  &[color="primary"] {
    background-color: $elca-coral-red !important;
    color: white !important;
    border-color: $elca-coral-red !important;
    border-radius: $elca-border-radius-base;
    font-weight: $elca-font-weight-medium;
    transition: all 0.2s ease;

    &:hover {
      background-color: darken($elca-coral-red, 10%) !important;
      transform: translateY(-1px);
      box-shadow: 0 4px 8px rgba(231, 76, 60, 0.4);
    }

    &:active {
      background-color: darken($elca-coral-red, 15%) !important;
      transform: translateY(0);
    }

    &:disabled {
      background-color: $elca-text-tertiary !important;
      color: white !important;
      opacity: 0.6;
      cursor: not-allowed;
    }
  }

  // Accent color buttons (default Material pink -> ELCA coral-red)
  &[color="accent"] {
    background-color: $elca-coral-red !important;
    color: white !important;
    border-color: $elca-coral-red !important;
    border-radius: $elca-border-radius-base;
    font-weight: $elca-font-weight-medium;
    transition: all 0.2s ease;

    &:hover {
      background-color: darken($elca-coral-red, 10%) !important;
    }

    &:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
  }

  // Warn color buttons (keep as ELCA error color)
  &[color="warn"] {
    background-color: $elca-error !important;
    color: white !important;
    border-color: $elca-error !important;
    border-radius: $elca-border-radius-base;
    font-weight: $elca-font-weight-medium;
    transition: all 0.2s ease;

    &:hover {
      background-color: darken($elca-error, 10%) !important;
    }

    &:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
  }
}

// Stroked/Outlined button overrides
button.mat-mdc-stroked-button,
button.mat-mdc-outlined-button {
  border-radius: $elca-border-radius-base;
  font-weight: $elca-font-weight-medium;
  transition: all 0.2s ease;

  &[color="primary"] {
    border-color: $elca-coral-red !important;
    color: $elca-coral-red !important;

    &:hover {
      background-color: $elca-coral-red-light !important;
      border-color: darken($elca-coral-red, 10%) !important;
      color: darken($elca-coral-red, 10%) !important;
    }
  }

  &[color="accent"] {
    border-color: $elca-coral-red !important;
    color: $elca-coral-red !important;

    &:hover {
      background-color: $elca-coral-red-light !important;
      border-color: darken($elca-coral-red, 10%) !important;
      color: darken($elca-coral-red, 10%) !important;
    }
  }

  &:not([color]) {
    @include elca-button-secondary;
    @include elca-button-size('base');
  }
}

// Basic button styles
button.mat-mdc-button {
  border-radius: $elca-border-radius-base;
  font-weight: $elca-font-weight-medium;
  transition: all 0.2s ease;

  &[color="primary"] {
    color: $elca-coral-red !important;

    &:hover {
      background-color: $elca-coral-red-light !important;
      color: darken($elca-coral-red, 10%) !important;
    }
  }
}

// Form field customizations
.mat-mdc-form-field {
  .mdc-text-field {
    border-radius: $elca-border-radius-base;

    &:not(.mdc-text-field--disabled) {
      .mdc-text-field__input {
        color: $elca-text-primary;
      }

      .mdc-floating-label {
        color: $elca-text-secondary;
      }
    }

    &.mdc-text-field--focused {
      .mdc-text-field__input {
        caret-color: $elca-coral-red;
      }

      .mdc-floating-label {
        color: $elca-coral-red;
      }

      .mdc-line-ripple::after {
        border-bottom-color: $elca-coral-red;
      }

      .mdc-notched-outline {
        .mdc-notched-outline__leading,
        .mdc-notched-outline__notch,
        .mdc-notched-outline__trailing {
          border-color: $elca-coral-red;
          border-width: 2px;
        }
      }
    }
  }

  .mat-mdc-form-field-error {
    color: $elca-error;
    font-size: $elca-font-size-xs;
  }

  .mat-mdc-form-field-hint {
    color: $elca-text-tertiary;
    font-size: $elca-font-size-xs;
  }
}

// Select customizations
.mat-mdc-select {
  .mat-mdc-select-value {
    color: $elca-text-primary;
  }

  .mat-mdc-select-placeholder {
    color: $elca-text-tertiary;
  }

  &.mat-mdc-select-focused {
    .mat-mdc-select-arrow {
      color: $elca-coral-red;
    }
  }
}

.mat-mdc-select-panel {
  background-color: $elca-bg-primary;
  border-radius: $elca-border-radius-lg;
  box-shadow: $elca-shadow-lg;

  .mat-mdc-option {
    &:hover:not(.mdc-list-item--disabled) {
      background-color: $elca-coral-red-light;
    }

    &.mat-mdc-option-active {
      background-color: $elca-coral-red-light;
      color: $elca-coral-red;
    }

    &.mdc-list-item--selected:not(.mdc-list-item--disabled) {
      background-color: $elca-coral-red-bg;
      color: $elca-coral-red;
    }
  }
}

// Input customizations
.mat-mdc-input-element {
  &::placeholder {
    color: $elca-text-tertiary;
  }
}

// Checkbox customizations
.mat-mdc-checkbox {
  .mdc-checkbox__native-control:enabled:checked ~ .mdc-checkbox__background {
    background-color: $elca-coral-red;
    border-color: $elca-coral-red;
  }

  .mdc-checkbox__native-control:enabled:indeterminate ~ .mdc-checkbox__background {
    background-color: $elca-coral-red;
    border-color: $elca-coral-red;
  }

  .mdc-checkbox__ripple {
    &::before,
    &::after {
      background-color: $elca-coral-red;
    }
  }
}

// Radio button customizations
.mat-mdc-radio-button {
  .mdc-radio__native-control:enabled:checked + .mdc-radio__background .mdc-radio__outer-circle,
  .mdc-radio__native-control:enabled + .mdc-radio__background .mdc-radio__outer-circle {
    border-color: $elca-coral-red;
  }

  .mdc-radio__native-control:enabled:checked + .mdc-radio__background .mdc-radio__inner-circle {
    border-color: $elca-coral-red;
  }

  .mdc-radio__ripple {
    &::before,
    &::after {
      background-color: $elca-coral-red;
    }
  }
}

// Card customizations
.mat-mdc-card {
  background-color: $elca-bg-primary;
  border-radius: $elca-border-radius-lg;
  box-shadow: $elca-shadow-sm;
  border: 1px solid $elca-border-secondary;

  .mat-mdc-card-header {
    .mat-mdc-card-title {
      color: $elca-coral-red;
      font-weight: $elca-font-weight-semibold;
    }

    .mat-mdc-card-subtitle {
      color: $elca-text-secondary;
    }
  }
}

// Dialog customizations
.mat-mdc-dialog-container {
  background-color: $elca-bg-primary;
  border-radius: $elca-border-radius-lg;
  box-shadow: $elca-shadow-xl;

  .mat-mdc-dialog-title {
    color: $elca-coral-red;
    font-weight: $elca-font-weight-semibold;
  }
}

// Snackbar customizations
.mat-mdc-snack-bar-container {
  border-radius: $elca-border-radius-base;

  &.success-snackbar {
    background-color: $elca-success;
    color: white;
  }

  &.error-snackbar {
    background-color: $elca-error;
    color: white;
  }

  &.warning-snackbar {
    background-color: $elca-warning;
    color: $elca-text-primary;
  }

  &.info-snackbar {
    background-color: $elca-info;
    color: white;
  }
}

// Table customizations
.mat-mdc-table {
  background-color: $elca-bg-primary;

  .mat-mdc-header-row {
    background-color: $elca-bg-tertiary;
  }

  .mat-mdc-header-cell {
    color: $elca-text-primary;
    font-weight: $elca-font-weight-semibold;
    border-bottom: 1px solid $elca-border-primary;
  }

  .mat-mdc-cell {
    color: $elca-text-primary;
    border-bottom: 1px solid $elca-border-secondary;
  }

  .mat-mdc-row:hover {
    background-color: $elca-coral-red-light;
  }
}

// Toolbar customizations
.mat-toolbar {
  background-color: $elca-bg-primary;
  color: $elca-text-primary;
  border-bottom: 1px solid $elca-border-secondary;

  &.mat-primary {
    background-color: $elca-coral-red;
    color: white;
  }
}

// Tab customizations
.mat-mdc-tab-group {
  .mat-mdc-tab-labels {
    border-bottom: 1px solid $elca-border-secondary;
  }

  .mat-mdc-tab:not(.mat-mdc-tab-disabled) {
    .mdc-tab__text-label {
      color: $elca-text-secondary;
    }

    &.mdc-tab--active .mdc-tab__text-label {
      color: $elca-coral-red;
    }
  }

  .mat-mdc-tab-header-pagination-chevron {
    color: $elca-text-secondary;
  }

  .mdc-tab-indicator__content--underline {
    background-color: $elca-coral-red;
  }
}

// Menu customizations
.mat-mdc-menu-panel {
  background-color: $elca-bg-primary;
  border-radius: $elca-border-radius-lg;
  box-shadow: $elca-shadow-lg;
  border: 1px solid $elca-border-secondary;

  .mat-mdc-menu-item {
    color: $elca-text-primary;

    &:hover:not([disabled]) {
      background-color: $elca-coral-red-light;
      color: $elca-coral-red;
    }

    &:focus:not([disabled]) {
      background-color: $elca-coral-red-light;
      color: $elca-coral-red;
    }
  }
}

// Stepper customizations
.mat-stepper-horizontal,
.mat-stepper-vertical {
  .mat-step-header {
    .mat-step-icon {
      background-color: $elca-text-tertiary;
      color: white;

      &.mat-step-icon-state-edit {
        background-color: $elca-coral-red;
      }
    }

    .mat-step-icon-selected {
      background-color: $elca-coral-red;
    }

    .mat-step-label {
      color: $elca-text-secondary;

      &.mat-step-label-active {
        color: $elca-text-primary;
      }

      &.mat-step-label-selected {
        color: $elca-coral-red;
      }
    }
  }
}

// Progress bar customizations
.mat-mdc-progress-bar {
  .mdc-linear-progress__bar-inner {
    border-color: $elca-coral-red;
  }

  .mdc-linear-progress__buffer-dots {
    background-color: $elca-coral-red-light;
  }

  .mdc-linear-progress__buffer {
    background-color: $elca-coral-red-light;
  }
}

// Badge customizations
.mat-badge-content {
  background-color: $elca-coral-red;
  color: white;
  font-size: $elca-font-size-xs;
  font-weight: $elca-font-weight-semibold;
}